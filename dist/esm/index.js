import e,{useRef as t,useEffect as r,useState as a,useCallback as n,forwardRef as o,useImperativeHandle as l}from"react";function i(...e){return e.filter(Boolean).join(" ")}function s(e,t,r=""){return e?t:r}function d(e,t,r){return"tailwind"===e?r:t}const c=e.createElement("div",{className:"flex flex-col items-center justify-center text-gray-400 dark:text-gray-500 pointer-events-none select-none"},e.createElement("svg",{className:"w-12 h-12 mb-3 text-gray-300 dark:text-gray-600 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})),e.createElement("p",{className:"text-base font-medium mb-1"},"Sign here"),e.createElement("p",{className:"text-sm text-gray-300 dark:text-gray-600"},"Draw your signature in the box above")),u=({canvasRef:a,isEmpty:n,isDrawing:o,onDrawStart:l,onDrawMove:s,onDrawEnd:u,maxWidth:g=800,maxHeight:m=300,theme:h="default",className:p,placeholder:v=c,options:b})=>{const y=t(null);r(()=>{const e=()=>{if(a.current&&y.current){const e=y.current.clientWidth,t=Math.min(e,g),r=m,o=a.current,l=o.getContext("2d"),i=null==l?void 0:l.getImageData(0,0,o.width,o.height);o.width=t,o.height=r,l&&i&&!n?l.putImageData(i,0,0):l&&b.backgroundColor&&(l.fillStyle=b.backgroundColor,l.fillRect(0,0,t,r))}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[a,g,m,n,b.backgroundColor]);const x=e=>{e.preventDefault(),o&&u()},f=i("relative",d(h,"signature-canvas-container","sig-pad-canvas-container"),p),w=i("block cursor-crosshair touch-none",d(h,"signature-canvas","sig-pad-canvas"),o&&"cursor-grabbing");return e.createElement("div",{ref:y,className:f,style:{maxWidth:`${g}px`,height:`${m}px`}},e.createElement("canvas",{ref:a,className:w,onMouseDown:e=>{l(e.nativeEvent)},onMouseMove:e=>{o&&s(e.nativeEvent)},onMouseUp:()=>{o&&u()},onMouseLeave:()=>{o&&u()},onTouchStart:e=>{e.preventDefault(),l(e.nativeEvent)},onTouchMove:e=>{e.preventDefault(),o&&s(e.nativeEvent)},onTouchEnd:x,onTouchCancel:x,role:"img","aria-label":"Signature canvas","aria-describedby":"signature-instructions"}),n&&e.createElement("div",{className:i("absolute inset-0 flex items-center justify-center pointer-events-none",d(h,"signature-placeholder","sig-pad-placeholder"))},v),e.createElement("div",{id:"signature-instructions",className:"sr-only"},"Use mouse or touch to draw your signature in this area. Use the controls below to undo, clear, or save your signature."))},g=({value:t,onChange:r,options:a,label:n,placeholder:o,error:l,className:s,disabled:d,...c})=>e.createElement("div",{className:i("flex flex-col gap-1.5",s)},n&&e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},n),e.createElement("div",{className:"relative"},e.createElement("select",{value:t,onChange:e=>r(e.target.value),disabled:d,className:i("w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg appearance-none","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500","hover:border-gray-400 dark:hover:border-gray-500","transition-colors duration-200",d&&"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-gray-700",l&&"border-red-500 focus:border-red-500 focus:ring-red-500"),...c},o&&e.createElement("option",{value:"",disabled:!0,hidden:!0},o),a.map(t=>e.createElement("option",{key:t.value,value:t.value,disabled:t.disabled},t.label))),e.createElement("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})))),l&&e.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},l)),m=({value:t,onChange:r,min:a=0,max:n=100,step:o=1,label:l,showValue:s=!0,unit:d="",variant:c="default",className:u,disabled:g,...m})=>e.createElement("div",{className:i("flex flex-col gap-2",u)},l&&e.createElement("div",{className:"flex justify-between items-center"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},l),s&&e.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono"},t,d)),e.createElement("input",{type:"range",min:a,max:n,step:o,value:t,onChange:e=>r(Number(e.target.value)),disabled:g,className:i("w-full h-2 rounded-lg appearance-none cursor-pointer transition-all duration-200","bg-gray-200 dark:bg-gray-700","brand"===c&&"accent-brand-600","default"===c&&"accent-gray-600","hover:bg-gray-300 dark:hover:bg-gray-600","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",g&&"opacity-50 cursor-not-allowed","[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-brand-600 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:hover:bg-brand-700 [&::-webkit-slider-thumb]:transition-colors","[&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-brand-600 [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-none [&::-moz-range-thumb]:shadow-lg"),...m})),h=[{value:"pen",label:"Pen"},{value:"marker",label:"Marker"},{value:"highlighter",label:"Highlighter"}],p=({currentOptions:t,onPenColorChange:r,onPenWidthChange:a,onDrawingModeChange:n,theme:o="default",className:l,compact:s=!1})=>{const c=i("flex items-center gap-3 p-3 rounded-lg border",d(o,"bg-gray-50 border-gray-200","bg-gray-50/50 dark:bg-gray-800/30 backdrop-blur-sm border-gray-200 dark:border-gray-700"),s&&"p-2 gap-2",l);return e.createElement("div",{className:c,role:"toolbar","aria-label":"Drawing tools"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap"},"Mode:"),e.createElement(g,{value:t.drawingMode,onChange:e=>n(e),options:h,className:i("min-w-0",s?"w-20":"w-24")})),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap"},"Color:"),e.createElement("div",{className:"relative"},e.createElement("input",{type:"color",value:t.penColor,onChange:e=>r(e.target.value),className:i("h-8 w-10 border-2 border-gray-300 dark:border-gray-600 rounded-md overflow-hidden cursor-pointer transition-all duration-200","hover:scale-105 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",d(o,"","sig-pad-color-input")),title:`Current color: ${t.penColor}`,"aria-label":"Pen color"}))),e.createElement("div",{className:"flex items-center gap-2 flex-1 min-w-0"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap"},"Size:"),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement(m,{value:t.penWidth,onChange:a,min:1,max:10,step:1,showValue:!s,unit:"px",variant:"brand",className:"min-w-0"})),s&&e.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono min-w-0"},t.penWidth,"px")),e.createElement("div",{className:"flex items-center"},e.createElement("div",{className:"relative flex items-center justify-center w-8 h-8"},e.createElement("div",{className:"rounded-full border border-gray-200 dark:border-gray-600",style:{backgroundColor:t.penColor,width:`${Math.max(4,Math.min(2*t.penWidth,16))}px`,height:`${Math.max(4,Math.min(2*t.penWidth,16))}px`,opacity:"highlighter"===t.drawingMode?.5:1},title:`Preview: ${t.penWidth}px ${t.drawingMode}`,"aria-label":"Pen preview"}))))},v={primary:"bg-brand-600 hover:bg-brand-700 text-white border-brand-600 hover:border-brand-700 shadow-brand-200/50 dark:shadow-brand-900/50",secondary:"bg-white hover:bg-gray-50 text-gray-700 border-gray-300 hover:border-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600",tertiary:"bg-transparent hover:bg-gray-50 text-gray-600 hover:text-gray-700 border-transparent hover:border-gray-200 dark:hover:bg-gray-800 dark:text-gray-400 dark:hover:text-gray-300",danger:"bg-red-600 hover:bg-red-700 text-white border-red-600 hover:border-red-700 shadow-red-200/50 dark:shadow-red-900/50",ghost:"bg-transparent hover:bg-gray-100 text-gray-600 hover:text-gray-700 border-transparent dark:hover:bg-gray-800 dark:text-gray-400"},b={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},y=({variant:t="secondary",size:r="md",loading:a=!1,icon:n,iconPosition:o="left",className:l,disabled:s,children:d,...c})=>{const u=s||a;return e.createElement("button",{className:i("inline-flex items-center justify-center font-medium border rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",b[r],v[t],u&&"opacity-50 cursor-not-allowed pointer-events-none",!u&&"hover:scale-[1.02] active:scale-[0.98] hover:shadow-md",l),disabled:u,...c},a&&e.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},e.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),!a&&n&&"left"===o&&e.createElement("span",{className:i("mr-2",d?"":"mr-0")},n),d,!a&&n&&"right"===o&&e.createElement("span",{className:i("ml-2",d?"":"ml-0")},n))},x=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})),f=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10H11a8 8 0 00-8 8v2m18-10l-6-6m6 6l-6 6"})),w=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),k=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),E=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})),C=({onUndo:t,onRedo:r,onClear:a,onSave:n,onUpload:o,canUndo:l,canRedo:s,isEmpty:c,loading:u=!1,theme:g="default",className:m,saveText:h="Save",uploadText:p="Upload",clearText:v="Clear",showSave:b=!0,showUpload:C=!1,showClear:N=!0})=>{const W=i("flex items-center justify-between gap-4 p-3 rounded-lg border",d(g,"bg-white border-gray-200","bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-gray-200 dark:border-gray-700"),m);return e.createElement("div",{className:W,role:"toolbar","aria-label":"Signature actions"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(y,{onClick:t,disabled:!l,variant:"ghost",size:"sm",icon:e.createElement(x,null),"aria-label":"Undo last action",title:"Undo (Ctrl+Z)"}),e.createElement(y,{onClick:r,disabled:!s,variant:"ghost",size:"sm",icon:e.createElement(f,null),"aria-label":"Redo last action",title:"Redo (Ctrl+Y)"})),e.createElement("div",{className:"flex items-center gap-2"},N&&e.createElement(y,{onClick:a,variant:"secondary",size:"sm",icon:e.createElement(w,null),disabled:c,"aria-label":"Clear signature",title:"Clear all"},v),b&&n&&e.createElement(y,{onClick:n,variant:"primary",size:"sm",icon:e.createElement(k,null),disabled:c,loading:u,"aria-label":"Save signature",title:"Save signature"},h),C&&o&&e.createElement(y,{onClick:o,variant:"secondary",size:"sm",icon:e.createElement(E,null),disabled:c,loading:u,"aria-label":"Upload signature",title:"Upload signature"},p)))},N=({value:t,onChange:r,label:a,disabled:n,className:o,presets:l=["#000000","#374151","#DC2626","#EA580C","#D97706","#CA8A04","#65A30D","#16A34A","#059669","#0891B2","#0284C7","#2563EB","#7C3AED","#9333EA","#C026D3","#DB2777"]})=>e.createElement("div",{className:i("flex flex-col gap-2",o)},a&&e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},a),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"color",value:t,onChange:e=>r(e.target.value),disabled:n,className:i("h-10 w-12 border-2 border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden shadow-sm cursor-pointer transition-all duration-200","hover:shadow-md hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",n&&"opacity-50 cursor-not-allowed")}),e.createElement("div",{className:"absolute inset-0 rounded-lg border-2 border-gray-200 dark:border-gray-600 pointer-events-none"})),e.createElement("div",{className:"flex-1"},e.createElement("input",{type:"text",value:t.toUpperCase(),onChange:e=>{const t=e.target.value;/^#[0-9A-F]{6}$/i.test(t)&&r(t)},disabled:n,placeholder:"#000000",className:i("w-full px-3 py-2 text-sm font-mono border border-gray-300 dark:border-gray-600 rounded-lg","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500","placeholder:text-gray-400 dark:placeholder:text-gray-500",n&&"opacity-50 cursor-not-allowed")}))),e.createElement("div",{className:"flex flex-wrap gap-1.5 mt-1"},l.map(a=>e.createElement("button",{key:a,type:"button",onClick:()=>r(a),disabled:n,className:i("w-6 h-6 rounded-full border-2 border-gray-200 dark:border-gray-600 cursor-pointer transition-all duration-200","hover:scale-110 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",t===a&&"ring-2 ring-brand-500 ring-offset-2",n&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:a},title:a})))),W=[{value:"pen",label:"Pen - Smooth, variable width"},{value:"marker",label:"Marker - Consistent width"},{value:"highlighter",label:"Highlighter - Semi-transparent"}],M=()=>e.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),S=()=>e.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})),D=({isOpen:t})=>e.createElement("svg",{className:i("w-4 h-4 transition-transform duration-200",t&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})),L=({options:t,onOptionsChange:r,onClose:n,theme:o="default",className:l})=>{const[s,c]=a(!1),u=(e,t)=>{r({[e]:t})},h=i("w-80 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-6",d(o,"","backdrop-blur-sm bg-white/95 dark:bg-gray-900/95"),l);return e.createElement("div",{className:h},e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(M,null),e.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Signature Settings")),e.createElement(y,{onClick:n,variant:"ghost",size:"sm",icon:e.createElement(S,null),"aria-label":"Close settings"})),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"space-y-4"},e.createElement("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Basic Settings"),e.createElement("div",{className:"space-y-4"},e.createElement(g,{label:"Drawing Mode",value:t.drawingMode||"pen",onChange:e=>u("drawingMode",e),options:W}),e.createElement(N,{label:"Pen Color",value:t.penColor||"#000000",onChange:e=>u("penColor",e)}),e.createElement(m,{label:"Pen Width",value:t.penWidth||2,onChange:e=>u("penWidth",e),min:1,max:10,step:1,unit:"px",variant:"brand"}),e.createElement(N,{label:"Background Color",value:t.backgroundColor||"#ffffff",onChange:e=>u("backgroundColor",e)}))),e.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},e.createElement("button",{onClick:()=>c(!s),className:"flex items-center justify-between w-full text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 transition-colors"},e.createElement("span",{className:"uppercase tracking-wide"},"Advanced Settings"),e.createElement(D,{isOpen:s})),s&&e.createElement("div",{className:"mt-4 space-y-4 animate-in slide-in-from-top-2 duration-200"},e.createElement(m,{label:"Minimum Width",value:t.minWidth||.5,onChange:e=>u("minWidth",e),min:.1,max:5,step:.1,unit:"px",variant:"brand"}),e.createElement(m,{label:"Maximum Width",value:t.maxWidth||2.5,onChange:e=>u("maxWidth",e),min:1,max:10,step:.1,unit:"px",variant:"brand"}),e.createElement(m,{label:"Velocity Sensitivity",value:t.velocityFilterWeight||.7,onChange:e=>u("velocityFilterWeight",e),min:.1,max:1,step:.1,variant:"brand"}),e.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg"},e.createElement("strong",null,"Velocity Sensitivity:")," Controls how pen speed affects line thickness. Higher values make faster strokes thinner."))),e.createElement("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement(y,{onClick:()=>{r({penColor:"#000000",penWidth:2,backgroundColor:"#ffffff",drawingMode:"pen",minWidth:.5,maxWidth:2.5,velocityFilterWeight:.7})},variant:"ghost",size:"sm"},"Reset to Default"),e.createElement(y,{onClick:n,variant:"primary",size:"sm"},"Done"))))},U=(e,t)=>{if(t.length<3){const r=t[0];return e.lineTo(r.x,r.y),void e.stroke()}e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length-2;r++){const a=(t[r].x+t[r+1].x)/2,n=(t[r].y+t[r+1].y)/2;e.quadraticCurveTo(t[r].x,t[r].y,a,n)}e.quadraticCurveTo(t[t.length-2].x,t[t.length-2].y,t[t.length-1].x,t[t.length-1].y),e.stroke()},R=[];for(let e=0;e<256;++e)R.push((e+256).toString(16).slice(1));let A;const B=new Uint8Array(16);var z={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function j(e,t,r){const a=(e=e||{}).random??e.rng?.()??function(){if(!A){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");A=crypto.getRandomValues.bind(crypto)}return A(B)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=a[e];return t}return function(e,t=0){return(R[e[t+0]]+R[e[t+1]]+R[e[t+2]]+R[e[t+3]]+"-"+R[e[t+4]]+R[e[t+5]]+"-"+R[e[t+6]]+R[e[t+7]]+"-"+R[e[t+8]]+R[e[t+9]]+"-"+R[e[t+10]]+R[e[t+11]]+R[e[t+12]]+R[e[t+13]]+R[e[t+14]]+R[e[t+15]]).toLowerCase()}(a)}function $(e,t,r){return!z.randomUUID||t||e?j(e,t,r):z.randomUUID()}const P=(e,o)=>{const l=t([]),i=t(null),s=t([]),d=t([]),[c,u]=a(!0),[g,m]=a({width:o.width||800,height:o.height||300,penColor:o.penColor||"#000000",penWidth:o.penWidth||2,backgroundColor:o.backgroundColor||"#ffffff",drawingMode:o.drawingMode||"pen",minWidth:o.minWidth||.5,maxWidth:o.maxWidth||2.5,velocityFilterWeight:o.velocityFilterWeight||.7}),h=t(null);r(()=>{const e=["width","height","penColor","penWidth","backgroundColor","drawingMode","minWidth","maxWidth","velocityFilterWeight"];let t=!1;const r=h.current||{};for(const a of e)if(void 0!==o[a]&&o[a]!==r[a]){t=!0;break}t&&(m(e=>({...e,...o,width:o.width||e.width,height:o.height||e.height})),h.current=o)},[o]),r(()=>{const t=e.current;if(!t)return;const r=t.getContext("2d");r&&(r.lineCap="round",r.lineJoin="round",r.fillStyle=g.backgroundColor,r.fillRect(0,0,t.width,t.height),u(!0))},[e,g.backgroundColor]);const p=n(()=>{if(i.current&&i.current.points.length>1){const e=i.current;let t=e.points[0].x,r=e.points[0].y,a=e.points[0].x,n=e.points[0].y;for(const o of e.points)o.x<t&&(t=o.x),o.y<r&&(r=o.y),o.x>a&&(a=o.x),o.y>n&&(n=o.y);e.boundingBox={minX:t,minY:r,maxX:a,maxY:n},s.current.push(e),d.current=[]}i.current=null},[]),v=n(()=>{var t;const r=e.current;if(!r)return;const a=r.getContext("2d");if(a){a.clearRect(0,0,r.width,r.height),a.fillStyle=g.backgroundColor,a.fillRect(0,0,r.width,r.height);for(const e of s.current)e.points.length<2||(a.save(),"highlighter"===e.style.drawingMode&&(a.globalAlpha=null!==(t=e.style.alpha)&&void 0!==t?t:.5),a.strokeStyle=e.style.penColor,a.lineWidth=e.style.penWidth,U(a,e.points),a.restore());u(0===s.current.length)}},[e,g.backgroundColor]),b={start:n(t=>{const r=e.current;if(!r)return;const a=r.getContext("2d");if(!a)return;const n=r.getBoundingClientRect(),o="touches"in t?t.touches[0].clientX:t.clientX,s="touches"in t?t.touches[0].clientY:t.clientY,d={x:o-n.left,y:s-n.top,time:Date.now(),pressure:"pressure"in t?t.pressure:.5};l.current=[d];const c={penColor:g.penColor,penWidth:g.penWidth,drawingMode:g.drawingMode,minWidth:g.minWidth,maxWidth:g.maxWidth,velocityFilterWeight:g.velocityFilterWeight,alpha:"highlighter"===g.drawingMode?.5:1};i.current={id:$(),points:[d],style:c,startedAt:Date.now(),endedAt:Date.now()},u(!1),a.beginPath(),a.moveTo(d.x,d.y)},[e,g]),move:n(t=>{var r;if(!i.current)return;const a=e.current;if(!a)return;const n=a.getContext("2d");if(!n)return;const o=a.getBoundingClientRect(),s="touches"in t?t.touches[0].clientX:t.clientX,d="touches"in t?t.touches[0].clientY:t.clientY,c={x:s-o.left,y:d-o.top,time:Date.now(),pressure:"pressure"in t?t.pressure:.5};l.current.push(c),i.current.points.push(c),i.current.endedAt=c.time;const u=(e=>{if(e.length<2)return 0;const t=e[e.length-1],r=e[e.length-2],a=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),n=t.time-r.time;return n>0?a/n:0})(l.current),g=i.current.style.penWidth;let m=g;"marker"===i.current.style.drawingMode?m=Math.max(i.current.style.minWidth,g-u*g/3):"highlighter"===i.current.style.drawingMode?(m=g+2,n.globalAlpha=null!==(r=i.current.style.alpha)&&void 0!==r?r:.5):m=Math.max(i.current.style.minWidth,Math.min(i.current.style.maxWidth,g-u*g/5)),n.lineWidth=m,n.strokeStyle=i.current.style.penColor,U(n,l.current),"highlighter"===i.current.style.drawingMode&&(n.globalAlpha=1),l.current.length>8&&(l.current=l.current.slice(-6))},[e]),end:n(()=>{p(),l.current=[]},[p])},y=n(()=>{s.current=[],d.current=[],i.current=null;const t=e.current;if(!t)return;const r=t.getContext("2d");r&&(r.clearRect(0,0,t.width,t.height),r.fillStyle=g.backgroundColor,r.fillRect(0,0,t.width,t.height),u(!0))},[e,g.backgroundColor]),x=n((t,r)=>{const a=e.current;return!a||c?"":a.toDataURL(t,r)},[e,c]),f=n((e="signature")=>{const t=x("image/png");if(!t)return;const r=document.createElement("a");r.download=`${e}.png`,r.href=t,r.click()},[x]),w=n(()=>{var t;if(!e.current)return"";const r=e.current.width,a=e.current.height,n=[];for(const e of s.current){if(e.points.length<2)continue;const r=[],a=e.points;r.push(`M ${a[0].x} ${a[0].y}`);for(let e=1;e<a.length-2;e++){const t=(a[e].x+a[e+1].x)/2,n=(a[e].y+a[e+1].y)/2;r.push(`Q ${a[e].x} ${a[e].y} ${t} ${n}`)}const o=a[a.length-1],l=a[a.length-2];r.push(`Q ${l.x} ${l.y} ${o.x} ${o.y}`);const i="highlighter"===e.style.drawingMode?null!==(t=e.style.alpha)&&void 0!==t?t:.5:1;n.push(`<path d="${r.join(" ")}" fill="none" stroke="${e.style.penColor}" stroke-linecap="round" stroke-linejoin="round" stroke-width="${e.style.penWidth}" stroke-opacity="${i}" />`)}return`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${a}" viewBox="0 0 ${r} ${a}" style="background:${g.backgroundColor}">${n.join("")}</svg>`},[e,g.backgroundColor]),k=n(e=>{m(t=>({...t,drawingMode:e}))},[]),E=n(e=>{m(t=>({...t,penColor:e}))},[]),C=n(e=>{m(t=>({...t,penWidth:e}))},[]),N=n(e=>{m(t=>({...t,backgroundColor:e})),requestAnimationFrame(()=>v())},[v]),W=n(()=>{p();const e=s.current.pop();e&&(d.current.push(e),v())},[p,v]),M=n(()=>{const e=d.current.pop();e&&(s.current.push(e),v())},[v]),S=s.current.length>0||!!i.current,D=d.current.length>0,L=n(e=>{m(t=>({...t,minWidth:e}))},[]),R=n(e=>{m(t=>({...t,maxWidth:e}))},[]),A=n(e=>{m(t=>({...t,velocityFilterWeight:e}))},[]);return{isEmpty:c,draw:b,clear:y,undo:W,redo:M,canUndo:S,canRedo:D,exportAsImage:f,exportAsSVG:w,toDataURL:x,setDrawingMode:k,setPenColor:E,setPenWidth:C,setBackgroundColor:N,setMinWidth:L,setMaxWidth:R,setVelocityFilterWeight:A,currentOptions:g,getStrokes:()=>s.current.slice(),loadStrokes:e=>{s.current=e.map(e=>({...e,points:e.points.map(e=>({...e})),style:{...e.style},boundingBox:void 0})),d.current=[],v()}}},T=e=>{const[t,r]=a([]),[o,l]=a([]),[i]=a(50),s=n(e=>{r(t=>[...t,e].slice(-i)),l([])},[i]),d=n(()=>{if(0===t.length)return;const a=t[t.length-1],n=e();return r(e=>e.slice(0,-1)),l(e=>[n,...e]),a},[t,e]),c=n(()=>{if(0===o.length)return;const t=o[0];return r(t=>[...t,e()]),l(e=>e.slice(1)),t},[o,e]),u=n(()=>{r([]),l([])},[]);return{addState:s,undo:d,redo:c,canUndo:t.length>0,canRedo:o.length>0,clearHistory:u}};function V(e,t={},o={}){const[l,i]=a(!1),[s,d]=a(!1),[c,u]=a(null),[g,m]=a(!1),[h]=a(t),p=P(e,t),v=T(()=>p.toDataURL("image/png")),b=n(e=>{var t;u(e.message),null===(t=o.onError)||void 0===t||t.call(o,e)},[o]),y=n(()=>u(null),[]),x={start:n(e=>{try{y(),i(!0),p.draw.start(e)}catch(e){b(e)}},[p.draw,y,b]),move:n(e=>{if(l)try{p.draw.move(e)}catch(e){b(e)}},[l,p.draw,b]),end:n(()=>{try{i(!1),p.draw.end(),m(!0),setTimeout(()=>{v.addState(p.toDataURL("image/png"))},100)}catch(e){b(e)}},[p.draw,p.toDataURL,v.addState,b])},f={toDataURL:p.toDataURL,toBlob:n(async()=>new Promise(t=>{e.current?e.current.toBlob(t,"image/png"):t(null)}),[e]),exportAsImage:n(async(e="signature.png")=>{try{d(!0),y();const t=p.toDataURL("image/png"),r=document.createElement("a");r.download=e,r.href=t,r.click()}catch(e){b(e)}finally{d(!1)}},[p.toDataURL,y,b]),exportAsSVG:p.exportAsSVG},w={current:p.currentOptions,update:n(e=>{try{Object.entries(e).forEach(([e,t])=>{switch(e){case"penColor":p.setPenColor(t);break;case"penWidth":p.setPenWidth(t);break;case"backgroundColor":p.setBackgroundColor(t);break;case"drawingMode":p.setDrawingMode(t);break;case"minWidth":p.setMinWidth(t);break;case"maxWidth":p.setMaxWidth(t);break;case"velocityFilterWeight":p.setVelocityFilterWeight(t)}})}catch(e){b(e)}},[p,b]),reset:n(()=>{try{w.update(h)}catch(e){b(e)}},[h,b]),penColor:p.currentOptions.penColor,penWidth:p.currentOptions.penWidth,backgroundColor:p.currentOptions.backgroundColor,drawingMode:p.currentOptions.drawingMode,setPenColor:p.setPenColor,setPenWidth:p.setPenWidth,setBackgroundColor:p.setBackgroundColor,setDrawingMode:p.setDrawingMode},k=n(()=>{if(e.current){const t=e.current,r=t.parentElement;if(r){const{width:e,height:a}=r.getBoundingClientRect();t.width=e,t.height=a}}},[e]),E=n(()=>{try{p.clear(),m(!1),v.addState("")}catch(e){b(e)}},[p,v,b]),C={undo:n(()=>{try{v.undo()&&m(!0)}catch(e){b(e)}},[v,b]),redo:n(()=>{try{v.redo()&&m(!0)}catch(e){b(e)}},[v,b]),canUndo:v.canUndo,canRedo:v.canRedo,clearHistory:v.clearHistory,addCheckpoint:n(()=>{v.addState(p.toDataURL("image/png"))},[v,p])};return r(()=>{if(t.autoSave&&g&&o.onSave){const e=setTimeout(()=>{var e;const t=p.toDataURL("image/png");null===(e=o.onSave)||void 0===e||e.call(o,t),m(!1)},t.autoSaveDelay||1e3);return()=>clearTimeout(e)}},[g,t.autoSave,t.autoSaveDelay,o.onSave,p]),r(()=>{var e;null===(e=o.onChange)||void 0===e||e.call(o,p.isEmpty)},[p.isEmpty,o]),{canvas:{ref:e,isEmpty:p.isEmpty,isDrawing:l,draw:x,clear:E,resize:k},history:C,export:f,settings:w,state:{loading:s,error:c,hasChanges:g},events:o,getStrokes:p.getStrokes,loadStrokes:p.loadStrokes}}const H=o(({canvas:r={},drawing:o={},ui:s={},actions:c={},events:g={},className:m,features:h={}},v)=>{const b=t(null),[y,x]=a(!1),{maxWidth:f=800,maxHeight:w=300,placeholder:k}=r,{theme:E="default",showToolbar:N=!0,showActionBar:W=!0,showSettings:M=!0,compactToolbar:S=!1}=s,{save:D={enabled:!0},upload:U={enabled:!1},clear:R={enabled:!0}}=c,{autoSave:A=!1,autoSaveDelay:B=1e3,enableKeyboardShortcuts:z=!0}=h,j=V(b,{...o,autoSave:A,autoSaveDelay:B},{onSave:D.callback,onChange:g.onChange,onError:g.onError});l(v,()=>({...j,clear:j.canvas.clear,undo:j.history.undo,redo:j.history.redo,toDataURL:j.export.toDataURL,toSVG:j.export.exportAsSVG}),[j]);const $=n(()=>{var e;null===(e=g.onDrawStart)||void 0===e||e.call(g)},[g]),P=n(()=>{var e;null===(e=g.onDrawEnd)||void 0===e||e.call(g)},[g]),T=n(async()=>{var e,t;if(D.callback)try{const e=j.export.toDataURL("image/png");await D.callback(e)}catch(r){null===(t=(e=j.events).onError)||void 0===t||t.call(e,r)}else j.export.exportAsImage()},[D,j]),H=n(async()=>{var e,t;if(U.callback)try{const e=j.export.toDataURL("image/png");await U.callback(e)}catch(r){null===(t=(e=j.events).onError)||void 0===t||t.call(e,r)}else j.export.exportAsImage()},[U,j]),F=n(()=>{var e;null===(e=R.callback)||void 0===e||e.call(R),j.canvas.clear()},[R,j]);e.useEffect(()=>{if(!z)return;const e=e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"z":e.shiftKey?(e.preventDefault(),j.history.redo()):(e.preventDefault(),j.history.undo());break;case"y":e.preventDefault(),j.history.redo();break;case"s":e.preventDefault(),D.enabled&&T()}else"Escape"===e.key&&x(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[z,j,D.enabled,T]);const O=i("signature-pad-enhanced relative max-w-full mx-auto",d(E,"bg-white border border-gray-200 rounded-lg shadow-lg p-6","bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-2xl shadow-2xl shadow-gray-200/50 dark:shadow-gray-900/50 border border-gray-200/60 dark:border-gray-700/60 backdrop-blur-sm p-6"),m);return e.createElement("div",{className:O,style:{maxWidth:`${f+48}px`}},j.state.error&&e.createElement("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 text-sm"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",null,j.state.error))),y&&e.createElement("div",{className:"absolute top-0 right-0 z-50 mt-2 mr-2"},e.createElement(L,{options:j.settings.current,onOptionsChange:j.settings.update,onClose:()=>x(!1),theme:E})),M&&e.createElement("div",{className:"flex justify-end mb-4"},e.createElement("button",{onClick:()=>x(!y),className:i("inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200",d(E,"bg-gray-100 hover:bg-gray-200 text-gray-700 border border-gray-300","bg-gray-100/80 hover:bg-gray-200/80 dark:bg-gray-800/80 dark:hover:bg-gray-700/80 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 backdrop-blur-sm"),y&&"bg-brand-100 text-brand-700 border-brand-300")},e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),y?"Hide Settings":"Settings")),e.createElement("div",{className:"space-y-4"},N&&e.createElement(p,{currentOptions:j.settings.current,onPenColorChange:j.settings.setPenColor,onPenWidthChange:j.settings.setPenWidth,onDrawingModeChange:j.settings.setDrawingMode,theme:E,compact:S}),e.createElement(u,{canvasRef:b,isEmpty:j.canvas.isEmpty,isDrawing:j.canvas.isDrawing,onDrawStart:e=>{$(),j.canvas.draw.start(e)},onDrawMove:j.canvas.draw.move,onDrawEnd:()=>{j.canvas.draw.end(),P()},maxWidth:f,maxHeight:w,theme:E,placeholder:k,options:j.settings.current}),W&&e.createElement(C,{onUndo:j.history.undo,onRedo:j.history.redo,onClear:F,onSave:D.enabled?T:void 0,onUpload:U.enabled?H:void 0,canUndo:j.history.canUndo,canRedo:j.history.canRedo,isEmpty:j.canvas.isEmpty,loading:j.state.loading,theme:E,saveText:D.text,uploadText:U.text,clearText:R.text,showSave:D.enabled,showUpload:U.enabled,showClear:R.enabled})),j.state.loading&&e.createElement("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-lg flex items-center justify-center z-40"},e.createElement("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400"},e.createElement("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),e.createElement("span",null,"Processing..."))),z&&e.createElement("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center"},e.createElement("kbd",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded"},"Ctrl+Z")," Undo •",e.createElement("kbd",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded ml-1"},"Ctrl+Y")," Redo •",e.createElement("kbd",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded ml-1"},"Ctrl+S")," Save"))});H.displayName="EnhancedSignaturePad";const F=o((r,a)=>{const n=t(null);if(l(a,()=>({clear:()=>{var e,t,r,a,o;return(null===(r=null===(t=null===(e=n.current)||void 0===e?void 0:e.canvas)||void 0===t?void 0:t.clear)||void 0===r?void 0:r.call(t))||(null===(o=null===(a=n.current)||void 0===a?void 0:a.clear)||void 0===o?void 0:o.call(a))},undo:()=>{var e,t,r;return null===(r=null===(t=null===(e=n.current)||void 0===e?void 0:e.history)||void 0===t?void 0:t.undo)||void 0===r?void 0:r.call(t)},redo:()=>{var e,t,r;return null===(r=null===(t=null===(e=n.current)||void 0===e?void 0:e.history)||void 0===t?void 0:t.redo)||void 0===r?void 0:r.call(t)},toDataURL:(e,t)=>{var r,a,o;return(null===(o=null===(a=null===(r=n.current)||void 0===r?void 0:r.export)||void 0===a?void 0:a.toDataURL)||void 0===o?void 0:o.call(a,e,t))||""},toSVG:()=>{var e,t,r,a,o;return(null===(r=null===(t=null===(e=n.current)||void 0===e?void 0:e.export)||void 0===t?void 0:t.exportAsSVG)||void 0===r?void 0:r.call(t))||(null===(o=null===(a=n.current)||void 0===a?void 0:a.exportAsSVG)||void 0===o?void 0:o.call(a))||""},getStrokes:()=>{var e,t;return(null===(t=null===(e=n.current)||void 0===e?void 0:e.getStrokes)||void 0===t?void 0:t.call(e))||[]},loadStrokes:e=>{var t,r;return null===(r=null===(t=n.current)||void 0===t?void 0:t.loadStrokes)||void 0===r?void 0:r.call(t,e)}}),[]),"canvas"in r||"drawing"in r||"ui"in r||"actions"in r)return e.createElement(H,{ref:n,...r});const{onSave:o,onUpload:i,onClear:s,onChange:d,options:c={},className:u="",showControls:g=!0,showCustomization:m=!0,uploadButton:h=!1,uploadText:p="Upload Signature",saveButton:v=!0,saveText:b="Save Signature",clearButton:y=!0,clearText:x="Clear",maxWidth:f=800,maxHeight:w=300,theme:k="default",showDarkModeToggle:E=!1}=r,C={className:u,canvas:{maxWidth:f,maxHeight:w},drawing:c,ui:{theme:k,showToolbar:g,showActionBar:g,showSettings:m},actions:{save:{enabled:v,text:b,callback:o},upload:{enabled:h,text:p,callback:i},clear:{enabled:y,text:x,callback:s}},events:{onChange:d},features:{enableKeyboardShortcuts:!0}};return e.createElement(H,{ref:n,...C})}),O=e=>{const t=e.split(";base64,"),r=t[0].split(":")[1],a=window.atob(t[1]),n=new Uint8Array(a.length);for(let e=0;e<a.length;++e)n[e]=a.charCodeAt(e);return new Blob([n],{type:r})},Y=(e,t)=>{const r=document.createElement("a");r.download=t,r.href=e,r.click()},I=(e,t)=>{const r=O(e);return new File([r],t,{type:r.type})},X=async(e,t,r="signature")=>{const a=new FormData,n=I(e,"signature.png");return a.append(r,n),fetch(t,{method:"POST",body:a})},G=e=>{if(e.length<5)return!1;const t=q(e);if((t.maxX-t.minX)*(t.maxY-t.minY)<100)return!1;return!(K(e)<50)},q=e=>{if(0===e.length)return{minX:0,minY:0,maxX:0,maxY:0};let t=e[0].x,r=e[0].y,a=e[0].x,n=e[0].y;for(let o=1;o<e.length;o++)t=Math.min(t,e[o].x),r=Math.min(r,e[o].y),a=Math.max(a,e[o].x),n=Math.max(n,e[o].y);return{minX:t,minY:r,maxX:a,maxY:n}},K=e=>{let t=0;for(let r=1;r<e.length;r++)t+=Math.sqrt(Math.pow(e[r].x-e[r-1].x,2)+Math.pow(e[r].y-e[r-1].y,2));return t},Q=e=>{if(!document.createElement("canvas").getContext("2d"))return!0;return(new Image).src=e,""===e||e.includes("data:image/png;base64,AAAA")};export{y as Button,N as ColorPicker,H as EnhancedSignaturePad,g as Select,C as SignatureActionBar,u as SignatureCanvas,F as SignaturePad,L as SignatureSettingsPanel,p as SignatureToolbar,m as Slider,K as calculateTotalDistance,i as cn,s as conditionalClass,O as dataURLToBlob,I as dataURLToFile,Y as downloadDataURL,q as getBoundingBox,Q as isSignatureEmpty,d as themeClass,X as uploadDataURL,P as useSignature,V as useSignaturePad,T as useUndoRedo,G as validateSignature};
//# sourceMappingURL=index.js.map
