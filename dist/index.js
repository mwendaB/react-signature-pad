"use strict";var e=require("react");function t(...e){return e.filter(Boolean).join(" ")}function r(e,t,r){return"tailwind"===e?r:t}const a=e.createElement("div",{className:"flex flex-col items-center justify-center text-gray-400 dark:text-gray-500 pointer-events-none select-none"},e.createElement("svg",{className:"w-12 h-12 mb-3 text-gray-300 dark:text-gray-600 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})),e.createElement("p",{className:"text-base font-medium mb-1"},"Sign here"),e.createElement("p",{className:"text-sm text-gray-300 dark:text-gray-600"},"Draw your signature in the box above")),n=({canvasRef:n,isEmpty:o,isDrawing:l,onDrawStart:s,onDrawMove:i,onDrawEnd:c,maxWidth:d=800,maxHeight:u=300,theme:g="default",className:m,placeholder:h=a,options:p})=>{const b=e.useRef(null);e.useEffect(()=>{const e=()=>{if(n.current&&b.current){const e=b.current.clientWidth,t=Math.min(e,d),r=u,a=n.current,l=a.getContext("2d"),s=null==l?void 0:l.getImageData(0,0,a.width,a.height);a.width=t,a.height=r,l&&s&&!o?l.putImageData(s,0,0):l&&p.backgroundColor&&(l.fillStyle=p.backgroundColor,l.fillRect(0,0,t,r))}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[n,d,u,o,p.backgroundColor]);const v=e=>{e.preventDefault(),l&&c()},y=t("relative",r(g,"signature-canvas-container","sig-pad-canvas-container"),m),x=t("block cursor-crosshair touch-none",r(g,"signature-canvas","sig-pad-canvas"),l&&"cursor-grabbing");return e.createElement("div",{ref:b,className:y,style:{maxWidth:`${d}px`,height:`${u}px`}},e.createElement("canvas",{ref:n,className:x,onMouseDown:e=>{s(e.nativeEvent)},onMouseMove:e=>{l&&i(e.nativeEvent)},onMouseUp:()=>{l&&c()},onMouseLeave:()=>{l&&c()},onTouchStart:e=>{e.preventDefault(),s(e.nativeEvent)},onTouchMove:e=>{e.preventDefault(),l&&i(e.nativeEvent)},onTouchEnd:v,onTouchCancel:v,role:"img","aria-label":"Signature canvas","aria-describedby":"signature-instructions"}),o&&e.createElement("div",{className:t("absolute inset-0 flex items-center justify-center pointer-events-none",r(g,"signature-placeholder","sig-pad-placeholder"))},h),e.createElement("div",{id:"signature-instructions",className:"sr-only"},"Use mouse or touch to draw your signature in this area. Use the controls below to undo, clear, or save your signature."))},o=({value:r,onChange:a,options:n,label:o,placeholder:l,error:s,className:i,disabled:c,...d})=>e.createElement("div",{className:t("flex flex-col gap-1.5",i)},o&&e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},o),e.createElement("div",{className:"relative"},e.createElement("select",{value:r,onChange:e=>a(e.target.value),disabled:c,className:t("w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg appearance-none","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500","hover:border-gray-400 dark:hover:border-gray-500","transition-colors duration-200",c&&"opacity-50 cursor-not-allowed bg-gray-50 dark:bg-gray-700",s&&"border-red-500 focus:border-red-500 focus:ring-red-500"),...d},l&&e.createElement("option",{value:"",disabled:!0,hidden:!0},l),n.map(t=>e.createElement("option",{key:t.value,value:t.value,disabled:t.disabled},t.label))),e.createElement("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},e.createElement("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})))),s&&e.createElement("p",{className:"text-sm text-red-600 dark:text-red-400"},s)),l=({value:r,onChange:a,min:n=0,max:o=100,step:l=1,label:s,showValue:i=!0,unit:c="",variant:d="default",className:u,disabled:g,...m})=>e.createElement("div",{className:t("flex flex-col gap-2",u)},s&&e.createElement("div",{className:"flex justify-between items-center"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},s),i&&e.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono"},r,c)),e.createElement("input",{type:"range",min:n,max:o,step:l,value:r,onChange:e=>a(Number(e.target.value)),disabled:g,className:t("w-full h-2 rounded-lg appearance-none cursor-pointer transition-all duration-200","bg-gray-200 dark:bg-gray-700","brand"===d&&"accent-brand-600","default"===d&&"accent-gray-600","hover:bg-gray-300 dark:hover:bg-gray-600","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",g&&"opacity-50 cursor-not-allowed","[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-brand-600 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:hover:bg-brand-700 [&::-webkit-slider-thumb]:transition-colors","[&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-brand-600 [&::-moz-range-thumb]:cursor-pointer [&::-moz-range-thumb]:border-none [&::-moz-range-thumb]:shadow-lg"),...m})),s=[{value:"pen",label:"Pen"},{value:"marker",label:"Marker"},{value:"highlighter",label:"Highlighter"}],i=({currentOptions:a,onPenColorChange:n,onPenWidthChange:i,onDrawingModeChange:c,theme:d="default",className:u,compact:g=!1})=>{const m=t("flex items-center gap-3 p-3 rounded-lg border",r(d,"bg-gray-50 border-gray-200","bg-gray-50/50 dark:bg-gray-800/30 backdrop-blur-sm border-gray-200 dark:border-gray-700"),g&&"p-2 gap-2",u);return e.createElement("div",{className:m,role:"toolbar","aria-label":"Drawing tools"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap"},"Mode:"),e.createElement(o,{value:a.drawingMode,onChange:e=>c(e),options:s,className:t("min-w-0",g?"w-20":"w-24")})),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap"},"Color:"),e.createElement("div",{className:"relative"},e.createElement("input",{type:"color",value:a.penColor,onChange:e=>n(e.target.value),className:t("h-8 w-10 border-2 border-gray-300 dark:border-gray-600 rounded-md overflow-hidden cursor-pointer transition-all duration-200","hover:scale-105 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",r(d,"","sig-pad-color-input")),title:`Current color: ${a.penColor}`,"aria-label":"Pen color"}))),e.createElement("div",{className:"flex items-center gap-2 flex-1 min-w-0"},e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap"},"Size:"),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement(l,{value:a.penWidth,onChange:i,min:1,max:10,step:1,showValue:!g,unit:"px",variant:"brand",className:"min-w-0"})),g&&e.createElement("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono min-w-0"},a.penWidth,"px")),e.createElement("div",{className:"flex items-center"},e.createElement("div",{className:"relative flex items-center justify-center w-8 h-8"},e.createElement("div",{className:"rounded-full border border-gray-200 dark:border-gray-600",style:{backgroundColor:a.penColor,width:`${Math.max(4,Math.min(2*a.penWidth,16))}px`,height:`${Math.max(4,Math.min(2*a.penWidth,16))}px`,opacity:"highlighter"===a.drawingMode?.5:1},title:`Preview: ${a.penWidth}px ${a.drawingMode}`,"aria-label":"Pen preview"}))))},c={primary:"bg-brand-600 hover:bg-brand-700 text-white border-brand-600 hover:border-brand-700 shadow-brand-200/50 dark:shadow-brand-900/50",secondary:"bg-white hover:bg-gray-50 text-gray-700 border-gray-300 hover:border-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600",tertiary:"bg-transparent hover:bg-gray-50 text-gray-600 hover:text-gray-700 border-transparent hover:border-gray-200 dark:hover:bg-gray-800 dark:text-gray-400 dark:hover:text-gray-300",danger:"bg-red-600 hover:bg-red-700 text-white border-red-600 hover:border-red-700 shadow-red-200/50 dark:shadow-red-900/50",ghost:"bg-transparent hover:bg-gray-100 text-gray-600 hover:text-gray-700 border-transparent dark:hover:bg-gray-800 dark:text-gray-400"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},u=({variant:r="secondary",size:a="md",loading:n=!1,icon:o,iconPosition:l="left",className:s,disabled:i,children:u,...g})=>{const m=i||n;return e.createElement("button",{className:t("inline-flex items-center justify-center font-medium border rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",d[a],c[r],m&&"opacity-50 cursor-not-allowed pointer-events-none",!m&&"hover:scale-[1.02] active:scale-[0.98] hover:shadow-md",s),disabled:m,...g},n&&e.createElement("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},e.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),!n&&o&&"left"===l&&e.createElement("span",{className:t("mr-2",u?"":"mr-0")},o),u,!n&&o&&"right"===l&&e.createElement("span",{className:t("ml-2",u?"":"ml-0")},o))},g=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})),m=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10H11a8 8 0 00-8 8v2m18-10l-6-6m6 6l-6 6"})),h=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),p=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),b=()=>e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})),v=({onUndo:a,onRedo:n,onClear:o,onSave:l,onUpload:s,canUndo:i,canRedo:c,isEmpty:d,loading:v=!1,theme:y="default",className:x,saveText:f="Save",uploadText:k="Upload",clearText:w="Clear",showSave:C=!0,showUpload:E=!1,showClear:N=!0})=>{const S=t("flex items-center justify-between gap-4 p-3 rounded-lg border",r(y,"bg-white border-gray-200","bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-gray-200 dark:border-gray-700"),x);return e.createElement("div",{className:S,role:"toolbar","aria-label":"Signature actions"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(u,{onClick:a,disabled:!i,variant:"ghost",size:"sm",icon:e.createElement(g,null),"aria-label":"Undo last action",title:"Undo (Ctrl+Z)"}),e.createElement(u,{onClick:n,disabled:!c,variant:"ghost",size:"sm",icon:e.createElement(m,null),"aria-label":"Redo last action",title:"Redo (Ctrl+Y)"})),e.createElement("div",{className:"flex items-center gap-2"},N&&e.createElement(u,{onClick:o,variant:"secondary",size:"sm",icon:e.createElement(h,null),disabled:d,"aria-label":"Clear signature",title:"Clear all"},w),C&&l&&e.createElement(u,{onClick:l,variant:"primary",size:"sm",icon:e.createElement(p,null),disabled:d,loading:v,"aria-label":"Save signature",title:"Save signature"},f),E&&s&&e.createElement(u,{onClick:s,variant:"secondary",size:"sm",icon:e.createElement(b,null),disabled:d,loading:v,"aria-label":"Upload signature",title:"Upload signature"},k)))},y=({value:r,onChange:a,label:n,disabled:o,className:l,presets:s=["#000000","#374151","#DC2626","#EA580C","#D97706","#CA8A04","#65A30D","#16A34A","#059669","#0891B2","#0284C7","#2563EB","#7C3AED","#9333EA","#C026D3","#DB2777"]})=>e.createElement("div",{className:t("flex flex-col gap-2",l)},n&&e.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},n),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"relative"},e.createElement("input",{type:"color",value:r,onChange:e=>a(e.target.value),disabled:o,className:t("h-10 w-12 border-2 border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden shadow-sm cursor-pointer transition-all duration-200","hover:shadow-md hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",o&&"opacity-50 cursor-not-allowed")}),e.createElement("div",{className:"absolute inset-0 rounded-lg border-2 border-gray-200 dark:border-gray-600 pointer-events-none"})),e.createElement("div",{className:"flex-1"},e.createElement("input",{type:"text",value:r.toUpperCase(),onChange:e=>{const t=e.target.value;/^#[0-9A-F]{6}$/i.test(t)&&a(t)},disabled:o,placeholder:"#000000",className:t("w-full px-3 py-2 text-sm font-mono border border-gray-300 dark:border-gray-600 rounded-lg","bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500","placeholder:text-gray-400 dark:placeholder:text-gray-500",o&&"opacity-50 cursor-not-allowed")}))),e.createElement("div",{className:"flex flex-wrap gap-1.5 mt-1"},s.map(n=>e.createElement("button",{key:n,type:"button",onClick:()=>a(n),disabled:o,className:t("w-6 h-6 rounded-full border-2 border-gray-200 dark:border-gray-600 cursor-pointer transition-all duration-200","hover:scale-110 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",r===n&&"ring-2 ring-brand-500 ring-offset-2",o&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:n},title:n})))),x=[{value:"pen",label:"Pen - Smooth, variable width"},{value:"marker",label:"Marker - Consistent width"},{value:"highlighter",label:"Highlighter - Semi-transparent"}],f=()=>e.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),k=()=>e.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})),w=({isOpen:r})=>e.createElement("svg",{className:t("w-4 h-4 transition-transform duration-200",r&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})),C=({options:a,onOptionsChange:n,onClose:s,theme:i="default",className:c})=>{const[d,g]=e.useState(!1),m=(e,t)=>{n({[e]:t})},h=t("w-80 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-6",r(i,"","backdrop-blur-sm bg-white/95 dark:bg-gray-900/95"),c);return e.createElement("div",{className:h},e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(f,null),e.createElement("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Signature Settings")),e.createElement(u,{onClick:s,variant:"ghost",size:"sm",icon:e.createElement(k,null),"aria-label":"Close settings"})),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"space-y-4"},e.createElement("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide"},"Basic Settings"),e.createElement("div",{className:"space-y-4"},e.createElement(o,{label:"Drawing Mode",value:a.drawingMode||"pen",onChange:e=>m("drawingMode",e),options:x}),e.createElement(y,{label:"Pen Color",value:a.penColor||"#000000",onChange:e=>m("penColor",e)}),e.createElement(l,{label:"Pen Width",value:a.penWidth||2,onChange:e=>m("penWidth",e),min:1,max:10,step:1,unit:"px",variant:"brand"}),e.createElement(y,{label:"Background Color",value:a.backgroundColor||"#ffffff",onChange:e=>m("backgroundColor",e)}))),e.createElement("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4"},e.createElement("button",{onClick:()=>g(!d),className:"flex items-center justify-between w-full text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 transition-colors"},e.createElement("span",{className:"uppercase tracking-wide"},"Advanced Settings"),e.createElement(w,{isOpen:d})),d&&e.createElement("div",{className:"mt-4 space-y-4 animate-in slide-in-from-top-2 duration-200"},e.createElement(l,{label:"Minimum Width",value:a.minWidth||.5,onChange:e=>m("minWidth",e),min:.1,max:5,step:.1,unit:"px",variant:"brand"}),e.createElement(l,{label:"Maximum Width",value:a.maxWidth||2.5,onChange:e=>m("maxWidth",e),min:1,max:10,step:.1,unit:"px",variant:"brand"}),e.createElement(l,{label:"Velocity Sensitivity",value:a.velocityFilterWeight||.7,onChange:e=>m("velocityFilterWeight",e),min:.1,max:1,step:.1,variant:"brand"}),e.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg"},e.createElement("strong",null,"Velocity Sensitivity:")," Controls how pen speed affects line thickness. Higher values make faster strokes thinner."))),e.createElement("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700"},e.createElement(u,{onClick:()=>{n({penColor:"#000000",penWidth:2,backgroundColor:"#ffffff",drawingMode:"pen",minWidth:.5,maxWidth:2.5,velocityFilterWeight:.7})},variant:"ghost",size:"sm"},"Reset to Default"),e.createElement(u,{onClick:s,variant:"primary",size:"sm"},"Done"))))},E=(e,t)=>{if(t.length<3){const r=t[0];return e.lineTo(r.x,r.y),void e.stroke()}e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length-2;r++){const a=(t[r].x+t[r+1].x)/2,n=(t[r].y+t[r+1].y)/2;e.quadraticCurveTo(t[r].x,t[r].y,a,n)}e.quadraticCurveTo(t[t.length-2].x,t[t.length-2].y,t[t.length-1].x,t[t.length-1].y),e.stroke()},N=[];for(let e=0;e<256;++e)N.push((e+256).toString(16).slice(1));let S;const W=new Uint8Array(16);var M={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function D(e,t,r){const a=(e=e||{}).random??e.rng?.()??function(){if(!S){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");S=crypto.getRandomValues.bind(crypto)}return S(W)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=a[e];return t}return function(e,t=0){return(N[e[t+0]]+N[e[t+1]]+N[e[t+2]]+N[e[t+3]]+"-"+N[e[t+4]]+N[e[t+5]]+"-"+N[e[t+6]]+N[e[t+7]]+"-"+N[e[t+8]]+N[e[t+9]]+"-"+N[e[t+10]]+N[e[t+11]]+N[e[t+12]]+N[e[t+13]]+N[e[t+14]]+N[e[t+15]]).toLowerCase()}(a)}function L(e,t,r){return!M.randomUUID||t||e?D(e,t,r):M.randomUUID()}const R=(t,r)=>{const a=e.useRef([]),n=e.useRef(null),o=e.useRef([]),l=e.useRef([]),[s,i]=e.useState(!0),[c,d]=e.useState({width:r.width||800,height:r.height||300,penColor:r.penColor||"#000000",penWidth:r.penWidth||2,backgroundColor:r.backgroundColor||"#ffffff",drawingMode:r.drawingMode||"pen",minWidth:r.minWidth||.5,maxWidth:r.maxWidth||2.5,velocityFilterWeight:r.velocityFilterWeight||.7}),u=e.useRef(null);e.useEffect(()=>{const e=["width","height","penColor","penWidth","backgroundColor","drawingMode","minWidth","maxWidth","velocityFilterWeight"];let t=!1;const a=u.current||{};for(const n of e)if(void 0!==r[n]&&r[n]!==a[n]){t=!0;break}t&&(d(e=>({...e,...r,width:r.width||e.width,height:r.height||e.height})),u.current=r)},[r]),e.useEffect(()=>{const e=t.current;if(!e)return;const r=e.getContext("2d");r&&(r.lineCap="round",r.lineJoin="round",r.fillStyle=c.backgroundColor,r.fillRect(0,0,e.width,e.height),i(!0))},[t,c.backgroundColor]);const g=e.useCallback(()=>{if(n.current&&n.current.points.length>1){const e=n.current;let t=e.points[0].x,r=e.points[0].y,a=e.points[0].x,s=e.points[0].y;for(const n of e.points)n.x<t&&(t=n.x),n.y<r&&(r=n.y),n.x>a&&(a=n.x),n.y>s&&(s=n.y);e.boundingBox={minX:t,minY:r,maxX:a,maxY:s},o.current.push(e),l.current=[]}n.current=null},[]),m=e.useCallback(()=>{var e;const r=t.current;if(!r)return;const a=r.getContext("2d");if(a){a.clearRect(0,0,r.width,r.height),a.fillStyle=c.backgroundColor,a.fillRect(0,0,r.width,r.height);for(const t of o.current)t.points.length<2||(a.save(),"highlighter"===t.style.drawingMode&&(a.globalAlpha=null!==(e=t.style.alpha)&&void 0!==e?e:.5),a.strokeStyle=t.style.penColor,a.lineWidth=t.style.penWidth,E(a,t.points),a.restore());i(0===o.current.length)}},[t,c.backgroundColor]),h={start:e.useCallback(e=>{const r=t.current;if(!r)return;const o=r.getContext("2d");if(!o)return;const l=r.getBoundingClientRect(),s="touches"in e?e.touches[0].clientX:e.clientX,d="touches"in e?e.touches[0].clientY:e.clientY,u={x:s-l.left,y:d-l.top,time:Date.now(),pressure:"pressure"in e?e.pressure:.5};a.current=[u];const g={penColor:c.penColor,penWidth:c.penWidth,drawingMode:c.drawingMode,minWidth:c.minWidth,maxWidth:c.maxWidth,velocityFilterWeight:c.velocityFilterWeight,alpha:"highlighter"===c.drawingMode?.5:1};n.current={id:L(),points:[u],style:g,startedAt:Date.now(),endedAt:Date.now()},i(!1),o.beginPath(),o.moveTo(u.x,u.y)},[t,c]),move:e.useCallback(e=>{var r;if(!n.current)return;const o=t.current;if(!o)return;const l=o.getContext("2d");if(!l)return;const s=o.getBoundingClientRect(),i="touches"in e?e.touches[0].clientX:e.clientX,c="touches"in e?e.touches[0].clientY:e.clientY,d={x:i-s.left,y:c-s.top,time:Date.now(),pressure:"pressure"in e?e.pressure:.5};a.current.push(d),n.current.points.push(d),n.current.endedAt=d.time;const u=(e=>{if(e.length<2)return 0;const t=e[e.length-1],r=e[e.length-2],a=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),n=t.time-r.time;return n>0?a/n:0})(a.current),g=n.current.style.penWidth;let m=g;"marker"===n.current.style.drawingMode?m=Math.max(n.current.style.minWidth,g-u*g/3):"highlighter"===n.current.style.drawingMode?(m=g+2,l.globalAlpha=null!==(r=n.current.style.alpha)&&void 0!==r?r:.5):m=Math.max(n.current.style.minWidth,Math.min(n.current.style.maxWidth,g-u*g/5)),l.lineWidth=m,l.strokeStyle=n.current.style.penColor,E(l,a.current),"highlighter"===n.current.style.drawingMode&&(l.globalAlpha=1),a.current.length>8&&(a.current=a.current.slice(-6))},[t]),end:e.useCallback(()=>{g(),a.current=[]},[g])},p=e.useCallback(()=>{o.current=[],l.current=[],n.current=null;const e=t.current;if(!e)return;const r=e.getContext("2d");r&&(r.clearRect(0,0,e.width,e.height),r.fillStyle=c.backgroundColor,r.fillRect(0,0,e.width,e.height),i(!0))},[t,c.backgroundColor]),b=e.useCallback((e,r)=>{const a=t.current;return!a||s?"":a.toDataURL(e,r)},[t,s]),v=e.useCallback((e="signature")=>{const t=b("image/png");if(!t)return;const r=document.createElement("a");r.download=`${e}.png`,r.href=t,r.click()},[b]),y=e.useCallback(()=>{var e;if(!t.current)return"";const r=t.current.width,a=t.current.height,n=[];for(const t of o.current){if(t.points.length<2)continue;const r=[],a=t.points;r.push(`M ${a[0].x} ${a[0].y}`);for(let e=1;e<a.length-2;e++){const t=(a[e].x+a[e+1].x)/2,n=(a[e].y+a[e+1].y)/2;r.push(`Q ${a[e].x} ${a[e].y} ${t} ${n}`)}const o=a[a.length-1],l=a[a.length-2];r.push(`Q ${l.x} ${l.y} ${o.x} ${o.y}`);const s="highlighter"===t.style.drawingMode?null!==(e=t.style.alpha)&&void 0!==e?e:.5:1;n.push(`<path d="${r.join(" ")}" fill="none" stroke="${t.style.penColor}" stroke-linecap="round" stroke-linejoin="round" stroke-width="${t.style.penWidth}" stroke-opacity="${s}" />`)}return`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${a}" viewBox="0 0 ${r} ${a}" style="background:${c.backgroundColor}">${n.join("")}</svg>`},[t,c.backgroundColor]),x=e.useCallback(e=>{d(t=>({...t,drawingMode:e}))},[]),f=e.useCallback(e=>{d(t=>({...t,penColor:e}))},[]),k=e.useCallback(e=>{d(t=>({...t,penWidth:e}))},[]),w=e.useCallback(e=>{d(t=>({...t,backgroundColor:e})),requestAnimationFrame(()=>m())},[m]),C=e.useCallback(()=>{g();const e=o.current.pop();e&&(l.current.push(e),m())},[g,m]),N=e.useCallback(()=>{const e=l.current.pop();e&&(o.current.push(e),m())},[m]),S=o.current.length>0||!!n.current,W=l.current.length>0,M=e.useCallback(e=>{d(t=>({...t,minWidth:e}))},[]),D=e.useCallback(e=>{d(t=>({...t,maxWidth:e}))},[]),R=e.useCallback(e=>{d(t=>({...t,velocityFilterWeight:e}))},[]);return{isEmpty:s,draw:h,clear:p,undo:C,redo:N,canUndo:S,canRedo:W,exportAsImage:v,exportAsSVG:y,toDataURL:b,setDrawingMode:x,setPenColor:f,setPenWidth:k,setBackgroundColor:w,setMinWidth:M,setMaxWidth:D,setVelocityFilterWeight:R,currentOptions:c,getStrokes:()=>o.current.slice(),loadStrokes:e=>{o.current=e.map(e=>({...e,points:e.points.map(e=>({...e})),style:{...e.style},boundingBox:void 0})),l.current=[],m()}}},U=t=>{const[r,a]=e.useState([]),[n,o]=e.useState([]),[l]=e.useState(50),s=e.useCallback(e=>{a(t=>[...t,e].slice(-l)),o([])},[l]),i=e.useCallback(()=>{if(0===r.length)return;const e=r[r.length-1],n=t();return a(e=>e.slice(0,-1)),o(e=>[n,...e]),e},[r,t]),c=e.useCallback(()=>{if(0===n.length)return;const e=n[0];return a(e=>[...e,t()]),o(e=>e.slice(1)),e},[n,t]),d=e.useCallback(()=>{a([]),o([])},[]);return{addState:s,undo:i,redo:c,canUndo:r.length>0,canRedo:n.length>0,clearHistory:d}};function B(t,r={},a={}){const[n,o]=e.useState(!1),[l,s]=e.useState(!1),[i,c]=e.useState(null),[d,u]=e.useState(!1),[g]=e.useState(r),m=R(t,r),h=U(()=>m.toDataURL("image/png")),p=e.useCallback(e=>{var t;c(e.message),null===(t=a.onError)||void 0===t||t.call(a,e)},[a]),b=e.useCallback(()=>c(null),[]),v={start:e.useCallback(e=>{try{b(),o(!0),m.draw.start(e)}catch(e){p(e)}},[m.draw,b,p]),move:e.useCallback(e=>{if(n)try{m.draw.move(e)}catch(e){p(e)}},[n,m.draw,p]),end:e.useCallback(()=>{try{o(!1),m.draw.end(),u(!0),setTimeout(()=>{h.addState(m.toDataURL("image/png"))},100)}catch(e){p(e)}},[m.draw,m.toDataURL,h.addState,p])},y={toDataURL:m.toDataURL,toBlob:e.useCallback(async()=>new Promise(e=>{t.current?t.current.toBlob(e,"image/png"):e(null)}),[t]),exportAsImage:e.useCallback(async(e="signature.png")=>{try{s(!0),b();const t=m.toDataURL("image/png"),r=document.createElement("a");r.download=e,r.href=t,r.click()}catch(e){p(e)}finally{s(!1)}},[m.toDataURL,b,p]),exportAsSVG:m.exportAsSVG},x={current:m.currentOptions,update:e.useCallback(e=>{try{Object.entries(e).forEach(([e,t])=>{switch(e){case"penColor":m.setPenColor(t);break;case"penWidth":m.setPenWidth(t);break;case"backgroundColor":m.setBackgroundColor(t);break;case"drawingMode":m.setDrawingMode(t);break;case"minWidth":m.setMinWidth(t);break;case"maxWidth":m.setMaxWidth(t);break;case"velocityFilterWeight":m.setVelocityFilterWeight(t)}})}catch(e){p(e)}},[m,p]),reset:e.useCallback(()=>{try{x.update(g)}catch(e){p(e)}},[g,p]),penColor:m.currentOptions.penColor,penWidth:m.currentOptions.penWidth,backgroundColor:m.currentOptions.backgroundColor,drawingMode:m.currentOptions.drawingMode,setPenColor:m.setPenColor,setPenWidth:m.setPenWidth,setBackgroundColor:m.setBackgroundColor,setDrawingMode:m.setDrawingMode},f=e.useCallback(()=>{if(t.current){const e=t.current,r=e.parentElement;if(r){const{width:t,height:a}=r.getBoundingClientRect();e.width=t,e.height=a}}},[t]),k=e.useCallback(()=>{try{m.clear(),u(!1),h.addState("")}catch(e){p(e)}},[m,h,p]),w={undo:e.useCallback(()=>{try{h.undo()&&u(!0)}catch(e){p(e)}},[h,p]),redo:e.useCallback(()=>{try{h.redo()&&u(!0)}catch(e){p(e)}},[h,p]),canUndo:h.canUndo,canRedo:h.canRedo,clearHistory:h.clearHistory,addCheckpoint:e.useCallback(()=>{h.addState(m.toDataURL("image/png"))},[h,m])};return e.useEffect(()=>{if(r.autoSave&&d&&a.onSave){const e=setTimeout(()=>{var e;const t=m.toDataURL("image/png");null===(e=a.onSave)||void 0===e||e.call(a,t),u(!1)},r.autoSaveDelay||1e3);return()=>clearTimeout(e)}},[d,r.autoSave,r.autoSaveDelay,a.onSave,m]),e.useEffect(()=>{var e;null===(e=a.onChange)||void 0===e||e.call(a,m.isEmpty)},[m.isEmpty,a]),{canvas:{ref:t,isEmpty:m.isEmpty,isDrawing:n,draw:v,clear:k,resize:f},history:w,export:y,settings:x,state:{loading:l,error:i,hasChanges:d},events:a,getStrokes:m.getStrokes,loadStrokes:m.loadStrokes}}const A=e.forwardRef(({canvas:a={},drawing:o={},ui:l={},actions:s={},events:c={},className:d,features:u={}},g)=>{const m=e.useRef(null),[h,p]=e.useState(!1),{maxWidth:b=800,maxHeight:y=300,placeholder:x}=a,{theme:f="default",showToolbar:k=!0,showActionBar:w=!0,showSettings:E=!0,compactToolbar:N=!1}=l,{save:S={enabled:!0},upload:W={enabled:!1},clear:M={enabled:!0}}=s,{autoSave:D=!1,autoSaveDelay:L=1e3,enableKeyboardShortcuts:R=!0}=u,U=B(m,{...o,autoSave:D,autoSaveDelay:L},{onSave:S.callback,onChange:c.onChange,onError:c.onError});e.useImperativeHandle(g,()=>({...U,clear:U.canvas.clear,undo:U.history.undo,redo:U.history.redo,toDataURL:U.export.toDataURL,toSVG:U.export.exportAsSVG}),[U]);const A=e.useCallback(()=>{var e;null===(e=c.onDrawStart)||void 0===e||e.call(c)},[c]),z=e.useCallback(()=>{var e;null===(e=c.onDrawEnd)||void 0===e||e.call(c)},[c]),P=e.useCallback(async()=>{var e,t;if(S.callback)try{const e=U.export.toDataURL("image/png");await S.callback(e)}catch(r){null===(t=(e=U.events).onError)||void 0===t||t.call(e,r)}else U.export.exportAsImage()},[S,U]),j=e.useCallback(async()=>{var e,t;if(W.callback)try{const e=U.export.toDataURL("image/png");await W.callback(e)}catch(r){null===(t=(e=U.events).onError)||void 0===t||t.call(e,r)}else U.export.exportAsImage()},[W,U]),$=e.useCallback(()=>{var e;null===(e=M.callback)||void 0===e||e.call(M),U.canvas.clear()},[M,U]);e.useEffect(()=>{if(!R)return;const e=e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"z":e.shiftKey?(e.preventDefault(),U.history.redo()):(e.preventDefault(),U.history.undo());break;case"y":e.preventDefault(),U.history.redo();break;case"s":e.preventDefault(),S.enabled&&P()}else"Escape"===e.key&&p(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[R,U,S.enabled,P]);const T=t("signature-pad-enhanced relative max-w-full mx-auto",r(f,"bg-white border border-gray-200 rounded-lg shadow-lg p-6","bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 rounded-2xl shadow-2xl shadow-gray-200/50 dark:shadow-gray-900/50 border border-gray-200/60 dark:border-gray-700/60 backdrop-blur-sm p-6"),d);return e.createElement("div",{className:T,style:{maxWidth:`${b+48}px`}},U.state.error&&e.createElement("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-300 text-sm"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",null,U.state.error))),h&&e.createElement("div",{className:"absolute top-0 right-0 z-50 mt-2 mr-2"},e.createElement(C,{options:U.settings.current,onOptionsChange:U.settings.update,onClose:()=>p(!1),theme:f})),E&&e.createElement("div",{className:"flex justify-end mb-4"},e.createElement("button",{onClick:()=>p(!h),className:t("inline-flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200",r(f,"bg-gray-100 hover:bg-gray-200 text-gray-700 border border-gray-300","bg-gray-100/80 hover:bg-gray-200/80 dark:bg-gray-800/80 dark:hover:bg-gray-700/80 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 backdrop-blur-sm"),h&&"bg-brand-100 text-brand-700 border-brand-300")},e.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),h?"Hide Settings":"Settings")),e.createElement("div",{className:"space-y-4"},k&&e.createElement(i,{currentOptions:U.settings.current,onPenColorChange:U.settings.setPenColor,onPenWidthChange:U.settings.setPenWidth,onDrawingModeChange:U.settings.setDrawingMode,theme:f,compact:N}),e.createElement(n,{canvasRef:m,isEmpty:U.canvas.isEmpty,isDrawing:U.canvas.isDrawing,onDrawStart:e=>{A(),U.canvas.draw.start(e)},onDrawMove:U.canvas.draw.move,onDrawEnd:()=>{U.canvas.draw.end(),z()},maxWidth:b,maxHeight:y,theme:f,placeholder:x,options:U.settings.current}),w&&e.createElement(v,{onUndo:U.history.undo,onRedo:U.history.redo,onClear:$,onSave:S.enabled?P:void 0,onUpload:W.enabled?j:void 0,canUndo:U.history.canUndo,canRedo:U.history.canRedo,isEmpty:U.canvas.isEmpty,loading:U.state.loading,theme:f,saveText:S.text,uploadText:W.text,clearText:M.text,showSave:S.enabled,showUpload:W.enabled,showClear:M.enabled})),U.state.loading&&e.createElement("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-lg flex items-center justify-center z-40"},e.createElement("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400"},e.createElement("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),e.createElement("span",null,"Processing..."))),R&&e.createElement("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center"},e.createElement("kbd",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded"},"Ctrl+Z")," Undo •",e.createElement("kbd",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded ml-1"},"Ctrl+Y")," Redo •",e.createElement("kbd",{className:"px-1 py-0.5 bg-gray-100 dark:bg-gray-800 rounded ml-1"},"Ctrl+S")," Save"))});A.displayName="EnhancedSignaturePad";const z=e.forwardRef((t,r)=>{const a=e.useRef(null);if(e.useImperativeHandle(r,()=>({clear:()=>{var e,t,r,n,o;return(null===(r=null===(t=null===(e=a.current)||void 0===e?void 0:e.canvas)||void 0===t?void 0:t.clear)||void 0===r?void 0:r.call(t))||(null===(o=null===(n=a.current)||void 0===n?void 0:n.clear)||void 0===o?void 0:o.call(n))},undo:()=>{var e,t,r;return null===(r=null===(t=null===(e=a.current)||void 0===e?void 0:e.history)||void 0===t?void 0:t.undo)||void 0===r?void 0:r.call(t)},redo:()=>{var e,t,r;return null===(r=null===(t=null===(e=a.current)||void 0===e?void 0:e.history)||void 0===t?void 0:t.redo)||void 0===r?void 0:r.call(t)},toDataURL:(e,t)=>{var r,n,o;return(null===(o=null===(n=null===(r=a.current)||void 0===r?void 0:r.export)||void 0===n?void 0:n.toDataURL)||void 0===o?void 0:o.call(n,e,t))||""},toSVG:()=>{var e,t,r,n,o;return(null===(r=null===(t=null===(e=a.current)||void 0===e?void 0:e.export)||void 0===t?void 0:t.exportAsSVG)||void 0===r?void 0:r.call(t))||(null===(o=null===(n=a.current)||void 0===n?void 0:n.exportAsSVG)||void 0===o?void 0:o.call(n))||""},getStrokes:()=>{var e,t;return(null===(t=null===(e=a.current)||void 0===e?void 0:e.getStrokes)||void 0===t?void 0:t.call(e))||[]},loadStrokes:e=>{var t,r;return null===(r=null===(t=a.current)||void 0===t?void 0:t.loadStrokes)||void 0===r?void 0:r.call(t,e)}}),[]),"canvas"in t||"drawing"in t||"ui"in t||"actions"in t)return e.createElement(A,{ref:a,...t});const{onSave:n,onUpload:o,onClear:l,onChange:s,options:i={},className:c="",showControls:d=!0,showCustomization:u=!0,uploadButton:g=!1,uploadText:m="Upload Signature",saveButton:h=!0,saveText:p="Save Signature",clearButton:b=!0,clearText:v="Clear",maxWidth:y=800,maxHeight:x=300,theme:f="default",showDarkModeToggle:k=!1}=t,w={className:c,canvas:{maxWidth:y,maxHeight:x},drawing:i,ui:{theme:f,showToolbar:d,showActionBar:d,showSettings:u},actions:{save:{enabled:h,text:p,callback:n},upload:{enabled:g,text:m,callback:o},clear:{enabled:b,text:v,callback:l}},events:{onChange:s},features:{enableKeyboardShortcuts:!0}};return e.createElement(A,{ref:a,...w})}),P=e=>{const t=e.split(";base64,"),r=t[0].split(":")[1],a=window.atob(t[1]),n=new Uint8Array(a.length);for(let e=0;e<a.length;++e)n[e]=a.charCodeAt(e);return new Blob([n],{type:r})},j=(e,t)=>{const r=P(e);return new File([r],t,{type:r.type})},$=e=>{if(0===e.length)return{minX:0,minY:0,maxX:0,maxY:0};let t=e[0].x,r=e[0].y,a=e[0].x,n=e[0].y;for(let o=1;o<e.length;o++)t=Math.min(t,e[o].x),r=Math.min(r,e[o].y),a=Math.max(a,e[o].x),n=Math.max(n,e[o].y);return{minX:t,minY:r,maxX:a,maxY:n}},T=e=>{let t=0;for(let r=1;r<e.length;r++)t+=Math.sqrt(Math.pow(e[r].x-e[r-1].x,2)+Math.pow(e[r].y-e[r-1].y,2));return t};exports.Button=u,exports.ColorPicker=y,exports.EnhancedSignaturePad=A,exports.Select=o,exports.SignatureActionBar=v,exports.SignatureCanvas=n,exports.SignaturePad=z,exports.SignatureSettingsPanel=C,exports.SignatureToolbar=i,exports.Slider=l,exports.calculateTotalDistance=T,exports.cn=t,exports.conditionalClass=function(e,t,r=""){return e?t:r},exports.dataURLToBlob=P,exports.dataURLToFile=j,exports.downloadDataURL=(e,t)=>{const r=document.createElement("a");r.download=t,r.href=e,r.click()},exports.getBoundingBox=$,exports.isSignatureEmpty=e=>{if(!document.createElement("canvas").getContext("2d"))return!0;return(new Image).src=e,""===e||e.includes("data:image/png;base64,AAAA")},exports.themeClass=r,exports.uploadDataURL=async(e,t,r="signature")=>{const a=new FormData,n=j(e,"signature.png");return a.append(r,n),fetch(t,{method:"POST",body:a})},exports.useSignature=R,exports.useSignaturePad=B,exports.useUndoRedo=U,exports.validateSignature=e=>{if(e.length<5)return!1;const t=$(e);if((t.maxX-t.minX)*(t.maxY-t.minY)<100)return!1;return!(T(e)<50)};
//# sourceMappingURL=index.js.map
